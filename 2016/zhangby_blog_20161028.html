<!DOCTYPE html>
<html>
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="generator" content="Pearyman'S BLOG">
<meta name="author" content="Pearyman">
<meta name="description" content="html5,css3,app" />
<meta name="keywords" content="Pearyman,BLOG" />
<link rel="Shortcut Icon" href="https://avatars2.githubusercontent.com/u/6932025?v=3&s=460" type="image/ico">
<title>Hello markdown</title>
<style type="text/css">
    #content{margin:0 auto 50px; width: 66%;}
    #disqus_thread{margin:0 auto; width: 66%;}
  .ds-powered-by,.navbar ,.ds-sync{display: none;}
</style>
<xmp theme="united" style="display:none;">
### 正则

没有找到一个好的网站介绍正则的字符，还是自己总结吧，温故而知新。

| 特殊意义元字符 |
|-------|:------:|
| 0-9数字 | \d |
| 数字字母下划线 | \w |
| 空格（tab制表符 空格键 换页符） | \s |
| 开头 | ^ |
| 结尾 | $ |
| 转义 | \ |
| 分组 | （） |
| 代表除了\n以外的其他元字符 | . |
| 换行| \n |
| 单词边界 | \b |
| a  b  c 三个中的任意一个 | [abc] |
| a-z中的任意一个 | [a-z] |
| 除了a  b  c 三个中的任意一个 | [^abc] |
| 除了a-z中的任意一个 | [^a-z] |
| 与\d相反 | \D |
| 与\w相反 | \W |
| 与\s相反 | \S |

*补充一个：* 或  |

| 代表次数的量词元字符 |
|------|:------:|
| 0到多次 | * |
| 1到多次 | + |
| 0或1次 | ? |
| n次 | {n} |
| 至少n次 | {n,} |
| n到m次 | {n,m} |

| 修饰符 |
|------|:------:|
| 全局匹配 | g |
| 换行匹配 | m |
| 忽略大小写 | i |

#### 创建正则的方式

1. 实例创建：`var re=new RegExp('\\d')`

2. 字面量创建：`var re=/\d/`

**区别：**

1. 在实例创建的正则中，特殊意义的元字符需要转义，但字面量方式创建不需要；

2. 在实例创建中，可以进行变量拼接，但是字面量方式不可以；

### 正则中需要注意的情况

**关于中括号**

1. 在中括号中出现的任何字符都是代表本身意思的元字符， `var reg=[\w+]` 指的是:数字、字母、下划线或者+中的一个。

2. 在中括号中出现的多位数字是每一个数字中的一个，`reg = /^[12]$/`并不是一个多位数:1或者2中的某一个，也就是说，中括号里面只有一位数（除非使用括号提高优先级）

**分组引用：**规定和某一个分组出现的内容需要一模一样

`var reg=/[a-zA-Z]([a-zA-Z])\1[a-zA-Z]/` \n表示和第n个分组出现的内容一模一样，此正则可以匹配所有的ABBC样式的单词

**？问号的作用：**

1. 如果问号的左边是一个非量词元字符,例如:`var reg=/\d?/`,代表的意思是:当前的问号本身是一个量词元字符,出现0-1次;

2. 如果问号的左边是一个量词元字符,例如:`var reg=/\d+?/`,代表的意思是:在正则捕获的时候取消它的贪婪捕获;

3. ?:,例如：`var reg=/(?:\d+)/`,只出现在分组中,代表只匹配不捕获

**$n的作用**

1. RegExp.$n:使用test或者exec匹配捕获一次后,RegExp.$n记录了第n个分组中所匹配的内容，n的最大值到9。如果在分组中加了?:，则匹配不到

```
var reg=/^(\d{6})(\d{4})(\d{2})(\d{2})\d{2}(\d)(?:\d|X)$/; //一个简单的匹配身份证号的正则
var str='13011119910101001X';
console.log(reg.test(str)); // true
console.log(RegExp.$1); // '130111'
console.log(RegExp.$2); // '1991'
console.log(RegExp.$6); // ''  -> ?:只匹配不捕获
```

#### 关于正则的贪婪性和懒惰性

**懒惰性:**

多次执行exec只能把正则第一个匹配的内容捕获到,后面匹配的内容无法获取。懒惰性是因为正则的lastIndex属性：lastIndex属性是指正则的下一次捕获开始查找的

索引的位置。但是每一次执行test并不能修改lastIndex的属性值，所以每次都是从头开始。而想要解决这个问题，需要给正则后面加上全局匹配g就可以。但是当有一次查找不到的时候,浏览

器会自己把lastIndex=0,所以下一次又会重新开始匹配；

**贪婪性：**在每一次捕获的时候,总是按照匹配最长的字符串进行捕获

#### 关于字符串的replace方法

1. 此方法可以替换部分字符

2. param1:正则；param2:回调函数

3. 返回值是替换后的新字符串

4. 原字符串不会发生变化

**关于回调函数：**

1. 正则和字符串匹配几次，回调函数就执行多少次

2. 每执行一次匿名函数都会把当前正则捕获的内容当做参数传递给这个匿名函数

3. 回调函数的参数：arguments[0]是大正则匹配的内容；auguments[1]是正则里第一个（）小正则匹配的内容，以此类推；最后一项是原字符串

4. 每一次执行匿名函数,在方法中return后面的内容就是当前这一次大正则所匹配的内容替换后的内容


*如上述内容有错误，欢迎纠正*

</xmp>

<div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//httpsfedlovergithubio.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
<script src="https://fedlover.github.io/js/strapdown.js"></script>
</html>

