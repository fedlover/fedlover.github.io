<!DOCTYPE html>
<html>
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="generator" content="Pearyman'S BLOG">
<meta name="author" content="Pearyman">
<meta name="description" content="html5,css3,app" />
<meta name="keywords" content="Pearyman,BLOG" />
<link rel="Shortcut Icon" href="http://7xw3j4.com1.z0.glb.clouddn.com/logo_cai.png" type="image/ico">
<title>Git的get</title>
<style type="text/css">
    #content{margin:0 auto 50px; width: 66%;}
    #disqus_thread{margin:0 auto; width: 66%;}
  .ds-powered-by,.navbar ,.ds-sync{display: none;}
</style>
<xmp theme="united" style="display:none;">
#Git的get
---------------------------
前些天给电脑装了个SSD，嗯，装完事后，很好，跟重装了系统一样，啥啥软件都不好使了。费了半天劲把开发重新环境配置好，缺啥软件下啥软件。然而最最最重要的git下载完事后连接公司托管代码用的gitlab也出问题了。根本连clone都用不了，上网百度各种答案都有，也尝试各种百度搜到答案，可能“药不对症”啊，浪费了半天的时间还是搞不定，请了老大过来。老大过来后简单问了下出了什么问题，然后就是一顿噼里啪啦的敲命令。再然后就能走通了，瞬间感觉老大好神奇，我查了半天的资料啊简直了，已献上双膝 ![alt title](http://7xw3j4.com1.z0.glb.clouddn.com/blog_04_2.gif)


---------------------------
脑袋里赶紧回滚刚才老大敲的命令，因为太快了只能隐约记得几个点，大致整理了一下。

### 1. Git global setup（全局配置）

    $ git config --global user.name "yougithubname"
    $ git config --global user.email "githubname@hotmial.com"


### 2. ssh key（ssh配置）
    
    $ ssh-keygen -t rsa -C "youremail@example.com"   （三个回车，生成ssh）
    $ cd ~ .ssh
    $ cat id_rsa.pub  （查看key）
把key copy 一份，需要在GitLab中备份，才能被验证。 打开GitLab，在Profile setting中，找到SSH Keys， 点击Add SSh Key，title随意

### 3.git pull （拉取项目）

    $ git clone git@git.xxxxx.com:xx/xxxx.git
    $ cd xxxx      （切换到刚才clone下来的项目的文件夹里）
    $ git pull origin master
     (在clone仓库时，Git通常会自动创建一个名为master的分支来跟踪 origin/master，将数据同步到本地，完成项目的拉取)

------------------------
#### **深究**
------------------------
**git config**


config是配置的意思，git congif 命令就是对git进行一些配置。git的配置文件一共有3个，3个？ 是的 ，你没有看错，我也没有胡说，是3个！上面第一步就是gitconfig配置git账户信息，不然人家压根不认识你是谁肯定不让连接


* 首先是[仓库级配置文件]()，该文件位于当前仓库下，路径.git/ ,文件名为 .gitconfig,这个配置中的设置只对当前所在仓库有效。
* 第二个是[全局级配置文件]()，以个人pc为例：C:\User\xxxx，文件名为 .gitconfig全局级配置文件
![alt title](http://7xw3j4.com1.z0.glb.clouddn.com/blog_04_3.png)
* 最后是[系统级配置文件]()，本地安装的git目录下，比如：F:\Git\etc，文件名为：gitconfig
--------------------
这三个配置的关系就像css一样。一般来说:

        <div style="width:200px"></div>                   行内样式
        <style type="text/css">div {width:200px;}</style> 内嵌样式
        <link rel="stylesheet" href="xxxxx.css" />        还有外联样式      


这三种样式是一样的，权重依次是行内>内嵌>外联。类似的，对于git来说，配置文件的权重是仓库>全局>系统。Git会使用一系列的配置文件来存储你定义的偏好，所以如果是公司的电脑上只有gitlab就可以大胆的直接配置全局的，如果是使用自己的笔记本，最好还是直接在仓库里配置config，这样才互不影响。


**生成ssh key**


这个ssh是一个专为远程登录会话和其他网络服务提供安全性的协议，是Secure Shell的缩写。默认状态下啊ssh链接是需要密码认证的，可以通过添加系统认证（就是公钥/私钥）的修改，能够在不输入密码的情况下，将gitlab/github作为自己的remote端服务器，进行版本控制。如何生成的在最上面第二步时就写了。


**git pull**


好像也没啥可讲的，并不是真的没什么可讲，只是我还没有到达透过现象看本质的境界，简单说说前些天刚get到的git新命令吧


* [git checkout .]()
撤销未提交的修改，这个很常用啊，就是你自己都不知道自己干了什么事情的情况下那么就让这个事恢复未修改之前吧（家里猫啊狗啊，趁你起身去拿吃的喝的或者书啥的，它们用爪子挠挠你的键盘，哎，修改了吧，你回来还浑然不觉，一查当前文件状态，确实是有修改但还没有提交，那么赶紧撤销吧）
* [git stash]()
储存你的工作，就是当你正在进行项目中某一部分的工作，里面的东西处于杂乱 的状态，而此时你想转到其他分支上进行一些工作。问题来了，又不想提交进行了一半的工作，但是不提交又无法切换分支。那么这个时候就可以用到`git stash` 命令了


查看当前分支的文件状态,哎呦，我这里正好有一个是修改并且没有提交的状态

        $ git status
        On branch cai
        Changes not staged for commit:
        (use "git add <file>..." to update what will be committed)
        (use "git checkout -- <file>..." to discard changes in working directory)

        modified:   2016/blog04_cai.html

        no changes added to commit (use "git add" and/or "git commit -a")

现在想切换分支，但是还不想提交正在进行中的文件，所以暂时储存这些变更。

        $ git stash
        Saved working directory and index state WIP on cai: cf1a9ef update temp
        HEAD is now at cf1a9ef update temp

这样工作目录里就干净了

        $ git status
        On branch cai
        nothing to commit, working directory clean

如果你进行了多次的储存，想要访问不同的储存，那就可以先查看再通过名字指定恢复

        $ git stash list                     (查看)
        stash@{0}: WIP on cai: cf1a9ef update temp
        $ git stash apply --index            (恢复)
        On branch cai
        Changes not staged for commit:
        (use "git add <file>..." to update what will be committed)
        (use "git checkout -- <file>..." to discard changes in working directory)

        modified:   2016/blog04_cai.html

        no changes added to commit (use "git add" and/or "git commit -a")

虽然恢复了当时储存的工作状态，但是储存的内容依然在栈上，运行 git stash drop + 要移除的储藏的名字

        $ git stash list
        stash@{0}: WIP on cai: cf1a9ef update temp

        $ git stash drop stash@{0}
        Dropped stash@{0} (146ecae9aaa3f227f7d136d2bd2421a1f610678f)

        $ git stash list
还可以给储存的命名名字，这样比较有效率，用stash-unapply 命令

        $ git config --global alias.stash-unapply '!git stash show -p | git apply -R'
        $ git stash apply
        $ #...work work work
        $ git stash-unapply
git超好用，但是要学的命令还很多，这些都是比较常用的了，记下来以免哪天犯迷糊忘记了 ![alt title](http://7xw3j4.com1.z0.glb.clouddn.com/blog_04_6.gif)



</xmp>

<div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//httpsfedlovergithubio.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
<script src="https://fedlover.github.io/js/strapdown.js"></script>
</html>

